{# {% if product %}

<div class="product-item position-relative {% if product.is_infinite == false and product.quantity <= 0 %}product-item-out-of-stock{% endif %}">
    {% if store.is_wishlist_enabled == true %}
      <span class="add-to-wishlist" data-wishlist-id="{{ product.id }}">
        <span zid-visible-customer="true">
            <a zid-visible-wishlist="{{ product.id }}" class="icon-heart-mask filled" onclick="addToWishlist(this, '{{ product.id }}')"></a>
            <a zid-hidden-wishlist="{{ product.id }}" class="icon-heart-mask" onclick="addToWishlist(this, '{{ product.id }}')"></a>
        </span>
        <a zid-visible-guest="true" class="icon-heart-mask" href="/auth/login?redirect_to={{ requestUri() }}"></a>
        <img class="loader d-none" src="{{ asset_url }}spinner.gif" width="20" height="20"/>
      </span>
    {% endif %}
    
    <a href="/products/{{ product.slug }}" class="d-flex flex-column justify-content-start">



        <div class="box-1-1">
            <div class="content">
                <div class="d-flex justify-content-center" style="width: 100%; height: 100%;">
                   {% if product.badge %}
                     {% include 'template_for_products_badge' ignore missing %}
                  {% endif %}
                    <img id="product-card-img-{{ product.id }}"
                            {% if product.images or product.videos %}
                                    src="{{ product.images[0]['image']['large'] ?? product.videos[0]['image']['large'] }}"
                             {% else %}
                                 src="{{ imageUrl(asset_url ~ 'product-img.svg',{ w: 235, q: 100, f:'auto' }) }}"
                            {% endif %}
                         alt="{{ product.name }}">
                    <span class="product-card-bundle-offer" data-bundle-offer-product-id="{{ product.id }}"></span>
                </div>
            </div>
        </div>

        <div class="product-title" style="margin-top: 15px"><span>{{ product.name | raw }}</span></div>
        {% if store.is_product_reviews_enabled %}
            <div class="product-card-rating-wrapper" style="height: 18px">
                {% if product.rating %}
                    {% include 'rating-stars.twig' with {'rating' : product.rating.average } %}
                    <span class="product-card-rating-count">({{ product.rating.total_count }})</span>
                {% endif %}
            </div>
        {% endif %}
        <div class="product-crd-spec">
            {% if product.formatted_sale_price is not null %}
                <div class="section-product-price">
                    <div class="product-price theme-title-primary"><span>{{ product.formatted_sale_price }}</span></div>
                    <div style="color: #494949"><span class="product-prev-price">{{ product.formatted_price }}</span>
                        <span style="color:#f25f5f;">
                        &nbsp;  &nbsp;{{ locals.product_discount }}&nbsp;{{ product.discount_percentage }}%
                        </span>
                    </div>
                </div>
            {% else %}
                <div class="product-price section-product-price theme-title-primary" ><span>{{ product.formatted_price }}</span></div>
            {% endif %}

            {% if product.is_infinite or product.quantity > 0 %}

                {% if (product.has_options or product.has_fields) %}
                    <small style="font-size: 1.1rem; white-space: break-spaces">{{ locals.product_has_options }}</small>
                {% endif %}

                {% if not product.is_taxable %}
                    <small style="font-size: 1.1rem; white-space: break-spaces">{{ locals.product_is_not_taxable }}</small>
                {% endif %}

            {% endif %}

            {% if product.is_infinite == false and product.quantity <= 0 %}
                <small style="font-size: 1.1rem; white-space: break-spaces">{{ locals.lbl_error_product_out_of_stock }}</small>
            {% endif %}

        </div>
        
    </a>
</div>
{% endif %} #}
{% if product %}

	<div class="product-item  {% if product.is_infinite == false and product.quantity <= 0 %}product-item-out-of-stock{% endif %}">		
		<div class="product-card-inner">
			<div class="product-image">
				<span class="product-card-bundle-offer" data-bundle-offer-product-id="{{ product.id }}"></span>
				{% if product.badge %}
					{% include 'template_for_products_badge' ignore missing %}
				{% endif %}
				<a href="/products/{{ product.slug }}" class="product-image-inner">
					<img id="product-card-img-{{ product.id }}" {% if product.images or product.videos %} src="{{ product.images[0]['image']['large'] ?? product.videos[0]['image']['large'] }}" {% else %} src="{{ imageUrl(asset_url ~ 'product-img.svg') }}" {% endif %} alt="{{ product.name }}">
				</a>
			</div>
			<div class="product-details-overlay">
				<div class="product-details-inner">
					<div class="product-text">
						<a href="/products/{{ product.slug }}" class="product-title">
							{{ product.name | raw }}
						</a>
						{% if product.rating %}
							<div class="rate-div">
								{% include 'rating-stars.twig' with {'rating' : product.rating.average } %}
								<span class="product-card-rating-count">({{ product.rating.total_count }})</span>
							</div>
						{% endif %}
						{% if product.short_description is not empty %}
							<div class="text-description">
								{{ product.short_description | raw }}
								
							</div>
						{% endif %}
						
					</div>
					<div class=" product-price-section">
						{% if product.formatted_sale_price is not null %}
									<span class="product-price">{{ product.formatted_sale_price }}</span>
									<span class="product-prev-price">{{ product.formatted_price }}</span>
						{% else %}
								<span class="product-price">{{ product.formatted_price }}</span>
						{% endif %}

						{# {% if product.is_infinite or product.quantity > 0 %}
							{% if (product.has_options or product.has_fields) %}
								<small style="font-size: 1.1rem; white-space: break-spaces">{{ locals.product_has_options }}</small>
							{% endif %}
							{% if not product.is_taxable %}
								<small style="font-size: 1.1rem; white-space: break-spaces">{{ locals.product_is_not_taxable }}</small>
							{% endif %}
						{% endif %}

						{% if product.is_infinite == false and product.quantity <= 0 %}
							<small style="font-size: 1.1rem; white-space: break-spaces">{{ locals.lbl_error_product_out_of_stock }}</small>
						{% endif %} #}

					</div>
						{% if product.short_description is not empty %}
							<div class="product-short-description">
                                <label>{{ locals.description }} :</label>
                                <div class="text-short-description">
                                    {{ product.short_description | raw }}
                                </div>
                            </div>
							
						{% endif %}
				</div>
				<div class="product-card-actions-wrapper">
					{% if product.is_infinite == false and product.quantity <= 0 %}
						<a class="btn btn-primary btn-product-card-out-of-stock" href="/products/{{ product.slug }}">
							<img src="{{ assetUrl('u_bell.svg') }}" alt="" width="18" height="18" class="d-inline">
							<span>{{ locals.btn_error_product_out_of_stock }}</span>
						</a>
					{% elseif ( product.has_options or product.has_fields ) %}
						<a class="btn btn-primary btn-product-card-select-variant" href="/products/{{ product.slug }}"><span>{{ locals.add_to_cart }}<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"> <path opacity="0.4" fill-rule="evenodd" clip-rule="evenodd" d="M14.75 19C14.75 19.4142 14.4142 19.75 14 19.75L7 19.75C6.58579 19.75 6.25 19.4142 6.25 19C6.25 18.5858 6.58579 18.25 7 18.25L14 18.25C14.4142 18.25 14.75 18.5858 14.75 19Z" fill="#161616"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M1 0.25C0.585786 0.25 0.25 0.585786 0.25 1C0.25 1.41421 0.585786 1.75 1 1.75L1.966 1.75C2.58189 1.75 3.09639 2.15576 3.23692 2.70184L6.21218 14.2634C6.30429 14.6213 6.22665 15.0026 5.99457 15.3032L5.25466 16.2616C5.17081 16.2539 5.08586 16.25 5 16.25C3.48122 16.25 2.25 17.4812 2.25 19C2.25 20.5188 3.48122 21.75 5 21.75C6.51878 21.75 7.75 20.5188 7.75 19C7.75 18.1242 7.34063 17.3441 6.7028 16.8405L7.18191 16.2199C7.30492 16.0605 7.40875 15.89 7.49262 15.7116L15.7824 15.0208C17.139 14.9078 18.2312 14.6971 18.9746 13.9739C19.718 13.2507 19.9586 12.1647 20.1089 10.8118L20.6713 5.75H21C21.4142 5.75 21.75 5.41421 21.75 5C21.75 4.58579 21.4142 4.25 21 4.25H19.9991L5.1842 4.25L4.68959 2.32801C4.37188 1.09343 3.23948 0.25 1.966 0.25L1 0.25ZM5.57021 5.75L7.66485 13.8896C7.69024 13.9882 7.70988 14.0876 7.72386 14.1871L15.6579 13.526C17.0298 13.4117 17.6081 13.2106 17.9286 12.8988C18.2492 12.5869 18.4661 12.0143 18.6181 10.6461L19.1621 5.75L5.57021 5.75ZM3.75 19C3.75 18.3096 4.30964 17.75 5 17.75C5.69036 17.75 6.25 18.3096 6.25 19C6.25 19.6904 5.69036 20.25 5 20.25C4.30964 20.25 3.75 19.6904 3.75 19ZM16 17.75C15.3096 17.75 14.75 18.3096 14.75 19C14.75 19.6904 15.3096 20.25 16 20.25C16.6904 20.25 17.25 19.6904 17.25 19C17.25 18.3096 16.6904 17.75 16 17.75ZM13.25 19C13.25 17.4812 14.4812 16.25 16 16.25C17.5188 16.25 18.75 17.4812 18.75 19C18.75 20.5188 17.5188 21.75 16 21.75C14.4812 21.75 13.25 20.5188 13.25 19Z" fill="#ffffff"/> </svg></span></a>
					{% else %}
						<a href="javascript:void(0)" class="btn btn-primary product-card-add-to-cart" onclick="productCartAddToCart(this,'{{ product.id }}')">
							<img style="display: inline" class="add-to-cart-progress d-none" src="{{ asset_url }}spinner.gif" width="20" height="20"/>
							<span>{{ locals.add_to_cart }}<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"> <path opacity="0.4" fill-rule="evenodd" clip-rule="evenodd" d="M14.75 19C14.75 19.4142 14.4142 19.75 14 19.75L7 19.75C6.58579 19.75 6.25 19.4142 6.25 19C6.25 18.5858 6.58579 18.25 7 18.25L14 18.25C14.4142 18.25 14.75 18.5858 14.75 19Z" fill="#161616"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M1 0.25C0.585786 0.25 0.25 0.585786 0.25 1C0.25 1.41421 0.585786 1.75 1 1.75L1.966 1.75C2.58189 1.75 3.09639 2.15576 3.23692 2.70184L6.21218 14.2634C6.30429 14.6213 6.22665 15.0026 5.99457 15.3032L5.25466 16.2616C5.17081 16.2539 5.08586 16.25 5 16.25C3.48122 16.25 2.25 17.4812 2.25 19C2.25 20.5188 3.48122 21.75 5 21.75C6.51878 21.75 7.75 20.5188 7.75 19C7.75 18.1242 7.34063 17.3441 6.7028 16.8405L7.18191 16.2199C7.30492 16.0605 7.40875 15.89 7.49262 15.7116L15.7824 15.0208C17.139 14.9078 18.2312 14.6971 18.9746 13.9739C19.718 13.2507 19.9586 12.1647 20.1089 10.8118L20.6713 5.75H21C21.4142 5.75 21.75 5.41421 21.75 5C21.75 4.58579 21.4142 4.25 21 4.25H19.9991L5.1842 4.25L4.68959 2.32801C4.37188 1.09343 3.23948 0.25 1.966 0.25L1 0.25ZM5.57021 5.75L7.66485 13.8896C7.69024 13.9882 7.70988 14.0876 7.72386 14.1871L15.6579 13.526C17.0298 13.4117 17.6081 13.2106 17.9286 12.8988C18.2492 12.5869 18.4661 12.0143 18.6181 10.6461L19.1621 5.75L5.57021 5.75ZM3.75 19C3.75 18.3096 4.30964 17.75 5 17.75C5.69036 17.75 6.25 18.3096 6.25 19C6.25 19.6904 5.69036 20.25 5 20.25C4.30964 20.25 3.75 19.6904 3.75 19ZM16 17.75C15.3096 17.75 14.75 18.3096 14.75 19C14.75 19.6904 15.3096 20.25 16 20.25C16.6904 20.25 17.25 19.6904 17.25 19C17.25 18.3096 16.6904 17.75 16 17.75ZM13.25 19C13.25 17.4812 14.4812 16.25 16 16.25C17.5188 16.25 18.75 17.4812 18.75 19C18.75 20.5188 17.5188 21.75 16 21.75C14.4812 21.75 13.25 20.5188 13.25 19Z" fill="#ffffff"/> </svg></span>
						</a>
					{% endif %}
					{% if store.is_wishlist_enabled == true %}
						<span class="add-to-wishlist" data-wishlist-id="{{ product.id }}">
							<span zid-visible-customer="true">
								<a zid-visible-wishlist="{{ product.id }}" class="icon-heart-mask filled" onclick="addToWishlist(this, '{{ product.id }}')"></a>
								<a zid-hidden-wishlist="{{ product.id }}" class="icon-heart-mask" onclick="addToWishlist(this, '{{ product.id }}')"></a>
							</span>
							<a zid-visible-guest="true" class="icon-heart-mask" href="/auth/login?redirect_to={{ requestUri() }}"></a>
							<img class="loader d-none" src="{{ asset_url }}spinner.gif" width="20" height="20"/>
						</span>
					{% endif %}
				</div>
			</div>
		</div>
	</div>
{% endif %}
