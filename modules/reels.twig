<section
    section-id="{{ sectionId }}"
    data-lg-scroll-offset="130"
    data-md-scroll-offset="130"
    data-sm-scroll-offset="94" class="reels">
  <div class="container-sec">
        <div class="head-sec">
          <svg class="right" xmlns="http://www.w3.org/2000/svg" width="50" height="13" viewBox="0 0 50 13" fill="none">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M49.3738 9.91605C48.7523 10.2786 48.7318 10.3384 49.0142 10.9653C49.5618 12.1818 49.4343 12.5809 48.403 12.8752C47.2234 13.2116 45.2899 12.8431 44.1701 12.0682C43.746 11.7748 42.7708 11.1344 42.0027 10.6453L40.6062 9.75583C16.0678 9.76198 29.1008 9.74652 -1.42214e-07 9.74652L-1.6643e-07 9.19254L-1.90645e-07 8.63855L19.201 8.63855L26.8437 8.63855L27.8171 6.7683C29.3602 3.80337 31.9217 1.52516 35.0127 0.368438C36.4716 -0.17757 36.7786 -0.131476 36.5901 0.605768C36.254 1.92004 34.7352 4.45619 33.5158 5.739C32.5803 6.72316 31.7308 7.81409 30.2297 8.63235L37.9552 8.63545L40.5654 8.63855L41.7495 7.92967C42.4009 7.53989 43.2747 6.94424 43.6911 6.60609C45.3741 5.24019 49.1117 4.93372 49.2925 6.14695C49.3335 6.42195 49.2022 6.96153 49.0007 7.34622C48.7991 7.7309 48.6609 8.05975 48.6934 8.07681C50.1996 8.86812 50.3718 9.33348 49.3738 9.91605ZM44.0854 8.73649C44.8819 8.23968 46.5207 8.08124 47.5425 8.40233C49.2423 8.93659 49.1215 9.50609 47.2052 9.99404C46.3552 10.2105 45.9258 10.2072 45.0657 9.97809C43.6024 9.58787 43.3112 9.21935 44.0854 8.73649ZM47.0683 10.866C47.8059 10.7082 47.9835 10.7433 48.1751 11.0841C48.6595 11.9456 48.4681 12.1843 47.2978 12.1792C46.0361 12.1736 44.5472 11.5975 43.8647 10.851L43.3992 10.3417L43.9811 10.5024C45.6686 10.968 46.2642 11.038 47.0683 10.866ZM43.8647 7.53413C44.5472 6.78758 46.0361 6.21143 47.2978 6.20589C48.2002 6.2019 48.402 6.27237 48.3964 6.58881C48.3806 7.44815 47.9956 7.71739 47.066 7.51862C46.2644 7.34711 45.6672 7.41757 43.9811 7.88269L43.3992 8.04335L43.8647 7.53413ZM31.0223 3.6538C32.1361 2.61031 34.6473 1.10436 35.2734 1.10436C35.6581 1.10436 35.5957 1.29847 34.6922 2.91079C34.2378 3.7216 33.402 4.84641 32.8343 5.41015C31.8198 6.4184 29.853 7.75218 29.3812 7.75218C29.249 7.75218 30.0697 6.86358 31.2053 5.77755C32.7687 4.28201 33.2312 3.7072 33.1111 3.40871C32.9803 3.08452 32.5632 3.38367 30.7507 5.10213C29.5397 6.25021 28.5491 7.10955 28.5491 7.01161C28.5491 6.55069 29.9268 4.68044 31.0223 3.6538Z" fill="#383838"/>
          </svg>
            
          <h2 class="title-sec " >{{ settings.title }}</h2>
          <svg xmlns="http://www.w3.org/2000/svg" class="left" width="50" height="13" viewBox="0 0 50 13" fill="none">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M0.62622 9.91605C1.24767 10.2786 1.26816 10.3384 0.985828 10.9653C0.438158 12.1818 0.565705 12.5809 1.59704 12.8752C2.77664 13.2116 4.71013 12.8431 5.82991 12.0682C6.25399 11.7748 7.22923 11.1344 7.99731 10.6453L9.39384 9.75583C33.9322 9.76198 20.8992 9.74652 50 9.74652L50 9.19254L50 8.63855L30.799 8.63855L23.1563 8.63855L22.1829 6.7683C20.6398 3.80337 18.0783 1.52516 14.9873 0.368438C13.5284 -0.17757 13.2214 -0.131476 13.4099 0.605768C13.746 1.92004 15.2648 4.45619 16.4842 5.739C17.4197 6.72316 18.2692 7.81409 19.7703 8.63235L12.0448 8.63545L9.43457 8.63855L8.25055 7.92967C7.59907 7.53989 6.72531 6.94424 6.30892 6.60609C4.62587 5.24019 0.888301 4.93372 0.707451 6.14695C0.666486 6.42195 0.797763 6.96153 0.999328 7.34622C1.20089 7.7309 1.33915 8.05975 1.30656 8.07681C-0.199591 8.86812 -0.37183 9.33348 0.62622 9.91605ZM5.91463 8.73649C5.11815 8.23968 3.47932 8.08124 2.45753 8.40233C0.757729 8.93659 0.878526 9.50609 2.79479 9.99404C3.64481 10.2105 4.07424 10.2072 4.93427 9.97809C6.39759 9.58787 6.68877 9.21935 5.91463 8.73649ZM2.93165 10.866C2.19405 10.7082 2.01646 10.7433 1.82491 11.0841C1.34054 11.9456 1.53187 12.1843 2.70216 12.1792C3.96392 12.1736 5.45285 11.5975 6.13528 10.851L6.60079 10.3417L6.0189 10.5024C4.33144 10.968 3.73582 11.038 2.93165 10.866ZM6.13528 7.53413C5.45285 6.78758 3.96392 6.21143 2.70216 6.20589C1.79977 6.2019 1.59797 6.27237 1.60356 6.58881C1.61938 7.44815 2.00436 7.71739 2.93398 7.51862C3.73559 7.34711 4.33283 7.41757 6.0189 7.88269L6.60079 8.04335L6.13528 7.53413ZM18.9777 3.6538C17.8639 2.61031 15.3527 1.10436 14.7266 1.10436C14.3419 1.10436 14.4043 1.29847 15.3078 2.91079C15.7622 3.7216 16.598 4.84641 17.1657 5.41015C18.1802 6.4184 20.147 7.75218 20.6188 7.75218C20.751 7.75218 19.9303 6.86358 18.7947 5.77755C17.2313 4.28201 16.7688 3.7072 16.8889 3.40871C17.0197 3.08452 17.4368 3.38367 19.2493 5.10213C20.4603 6.25021 21.4509 7.10955 21.4509 7.01161C21.4509 6.55069 20.0732 4.68044 18.9777 3.6538Z" fill="#383838"/>
            </svg>
        </div>
    <div class="reels-container">
        {% for reel in settings.sliders %}
            <div class="reel-outer">
                <div class="reel">
                <video width="100%" height="auto" loop    muted >
                    <source src="{{ reel.video }}" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                    <div class="head-reel">
                        <h2 class="head-reel-title">
                          {{reel.title}}
                        </h2>
                        <div class="volume-toggle" title="Toggle Sound" >
                            <svg class="mute-video" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" color="#000000" fill="none">
                                <path d="M14 14.8135V9.18646C14 6.04126 14 4.46866 13.0747 4.0773C12.1494 3.68593 11.0603 4.79793 8.88232 7.02192C7.75439 8.17365 7.11085 8.42869 5.50604 8.42869C4.10257 8.42869 3.40084 8.42869 2.89675 8.77262C1.85035 9.48655 2.00852 10.882 2.00852 12C2.00852 13.118 1.85035 14.5134 2.89675 15.2274C3.40084 15.5713 4.10257 15.5713 5.50604 15.5713C7.11085 15.5713 7.75439 15.8264 8.88232 16.9781C11.0603 19.2021 12.1494 20.3141 13.0747 19.9227C14 19.5313 14 17.9587 14 14.8135Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M18 10L22 14M18 14L22 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path>
                            </svg>
                            <svg class="unmute-video" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" color="#000000" fill="none" style="display: none;">
                                <path d="M14 14.8135V9.18646C14 6.04126 14 4.46866 13.0747 4.0773C12.1494 3.68593 11.0603 4.79793 8.88232 7.02192C7.75439 8.17365 7.11085 8.42869 5.50604 8.42869C4.10257 8.42869 3.40084 8.42869 2.89675 8.77262C1.85035 9.48655 2.00852 10.882 2.00852 12C2.00852 13.118 1.85035 14.5134 2.89675 15.2274C3.40084 15.5713 4.10257 15.5713 5.50604 15.5713C7.11085 15.5713 7.75439 15.8264 8.88232 16.9781C11.0603 19.2021 12.1494 20.3141 13.0747 19.9227C14 19.5313 14 17.9587 14 14.8135Z" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M17 9C17.6254 9.81968 18 10.8634 18 12C18 13.1366 17.6254 14.1803 17 15" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M20 7C21.2508 8.36613 22 10.1057 22 12C22 13.8943 21.2508 15.6339 20 17" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                        </div>
                        
                    </div>
                    <div class="play-video" title="play-video">
                        <div class="play-video-inner">                
                            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="28" viewBox="0 0 26 28" fill="none">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M16.0867 4.47792L16.2343 4.56176C18.9558 6.10791 21.0945 7.32292 22.6181 8.4359C24.1522 9.55653 25.2868 10.7278 25.6932 12.272C25.9912 13.4045 25.9912 14.5957 25.6932 15.7282C25.2868 17.2724 24.1522 18.4437 22.6181 19.5643C21.0945 20.6773 18.9559 21.8923 16.2343 23.4384L16.0867 23.5223C13.4577 25.0159 11.3884 26.1915 9.70541 26.9074C8.00887 27.629 6.4622 27.9947 4.95897 27.5687C3.85424 27.2557 2.84906 26.6615 2.03931 25.8445C0.940354 24.7357 0.499224 23.2033 0.29052 21.359C0.0833438 19.5283 0.0833573 17.1317 0.0833743 14.0836V13.9166C0.0833573 10.8685 0.0833438 8.47191 0.29052 6.64117C0.499225 4.79693 0.940354 3.26446 2.03931 2.15569C2.84906 1.33872 3.85424 0.74454 4.95897 0.431492C6.4622 0.0055183 8.00887 0.371254 9.70541 1.09285C11.3884 1.8087 13.4577 2.98433 16.0867 4.47792ZM8.7269 3.3934C7.18979 2.73961 6.30628 2.64814 5.64056 2.83678C4.95184 3.03195 4.32299 3.40298 3.81492 3.91559C3.32014 4.41478 2.96439 5.24571 2.77466 6.92229C2.58529 8.59569 2.58337 10.8503 2.58337 14.0001C2.58337 17.1499 2.58529 19.4045 2.77466 21.0779C2.9644 22.7545 3.32014 23.5854 3.81492 24.0846C4.32299 24.5972 4.95184 24.9683 5.64056 25.1634C6.30628 25.3521 7.18979 25.2606 8.7269 24.6068C10.2618 23.9539 12.2067 22.8513 14.9255 21.3067C17.7369 19.7095 19.7495 18.5638 21.1435 17.5455C22.5408 16.5249 23.0928 15.7861 23.2755 15.0919C23.4638 14.3765 23.4638 13.6237 23.2755 12.9083C23.0928 12.2141 22.5408 11.4753 21.1435 10.4547C19.7495 9.43639 17.7369 8.29074 14.9255 6.6935C12.2067 5.14891 10.2618 4.04627 8.7269 3.3934Z" fill="#FAFAFA"/>
                            </svg>
                        </div>
                    </div>

            
            </div>
            </div>
        {% endfor %}


    
    </div>
  
  </div>
</section>
{% schema %}
{
  "name": {
    "ar": " ريلز تريت",
    "en": "Treat Reels"
  },
  "icon": "fa fa-play",
  "display": true,
   "settings": {
    "title": {
        "type": "text",
        "label": {
            "ar": "العنوان",
            "en": "title"
        }
    },
    "items": {
      "type": "list",
        "maxItems": 4,
        "settings_label": {
            "ar": "الريلز",
            "en": "Reels"
        },
        "settings": {  
            "title": {
                "type": "text",
                "label": {
                    "ar": "عنوان الفيديو",
                    "en": "Video Title"
                }
            },
            "video": {
                "type": "video",
                "label": {
                    "ar": "الفيديو",
                    "en": "Video"
                },
                "info": {
                    "ar": "mp4 اقصى حجم 10MB",
                    "en": ""
                }
            }
        }
    }

  }
    
    
  }

{% endschema %}

                     <script>

        document.addEventListener("DOMContentLoaded", function(){
            var arrowNextClass = (window.appDirection === 'ltr') ? 'icon-keyboard_arrow_right': 'icon-keyboard_arrow_left';
            var arrowPrevClass = (window.appDirection === 'ltr') ? 'icon-keyboard_arrow_left' : 'icon-keyboard_arrow_right';
                $('[section-id={{ sectionId }}] .reels-container').slick({
                    slidesToShow: 4,
                    slidesToScroll: 1,
                    infinite: false,
                    autoplay: false,
                    arrows: false,
                    dots: false,
                    rtl: !(window.appDirection === 'ltr'),
                    nextArrow:'<button class="slick-next slick-arrow" aria-label="Next" type="button" style=""><span class="'+arrowNextClass+'"></span></button>',
                    prevArrow:'<button class="slick-prev slick-arrow" aria-label="Previous" type="button" style=""><span class="'+arrowPrevClass+'"></span></button>',
                    responsive: [
                        {
                            breakpoint: 992,
                            settings: {
                                slidesToShow: 3,
                                slidesToScroll: 1
                            }
                        },
                        {
                            breakpoint: 768,
                            settings: {
                                slidesToShow: 2,
                                slidesToScroll: 1
                            }
                        },
                        {
                            breakpoint: 576,
                            settings: {
                                slidesToShow: 2,
                                slidesToScroll: 1 
                                
                            }
                        }
                    ]
                });
            
        });
    </script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
  const reels = document.querySelectorAll('.reel');

  reels.forEach(reel => {
    const video = reel.querySelector('video');
    const volumeToggle = reel.querySelector('.volume-toggle');
    const muteIcon = reel.querySelector('.mute-video');
    const unmuteIcon = reel.querySelector('.unmute-video');
    const playOverlay = reel.querySelector('.play-video');

    // عند الضغط على الريل لتشغيل أو إيقاف الفيديو
    reel.addEventListener('click', function(e) {
      // تجاهل الضغط على أيقونة الصوت
      if (e.target.closest('.volume-toggle')) return;

      if (video.paused) {
        video.play();
        reel.classList.remove('paused');
        playOverlay.style.display = 'none'; 
      } else {
        video.pause();
        reel.classList.add('paused');
        playOverlay.style.display = 'flex';
      }
    });

    // التحكم في كتم الصوت وتشغيله
    muteIcon.addEventListener('click', function(e) {
      e.stopPropagation();
      video.muted = false;
      muteIcon.style.display = 'none';
      unmuteIcon.style.display = 'block';
    });

    unmuteIcon.addEventListener('click', function(e) {
      e.stopPropagation();
      video.muted = true;
      muteIcon.style.display = 'block';
      unmuteIcon.style.display = 'none';
    });

    video.addEventListener('play', function() {
      reel.classList.remove('paused');
      playOverlay.style.display = 'none'; 
    });

    video.addEventListener('pause', function() {
      reel.classList.add('paused');
      playOverlay.style.display = 'flex'; 
    });

    video.addEventListener('ended', function() {
      reel.classList.add('paused');
      playOverlay.style.display = 'flex'; 
    });

    if (video.paused) {
      playOverlay.style.display = 'flex';
    } else {
      playOverlay.style.display = 'none';
    }
  });
});

    </script>